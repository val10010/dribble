document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".popup-card"),e=document.querySelector(".popup-card-cross"),o=document.querySelector(".content"),n=Array.from(o.children),a=window.matchMedia("(max-width: 768px)").matches,r=function(t){for(let e=t.length-1;e>0;e--){const o=Math.floor(Math.random()*(e+1));[t[e],t[o]]=[t[o],t[e]]}return t}(n);o.innerHTML="",r.forEach((t=>{o.appendChild(t)}));let c=null,d=null;function i(o){d=o.target.parentElement,c=o.target,gsap.set(d.querySelector(".content_card--back"),{opacity:1}),gsap.to(d,{rotationY:"+=180",duration:1}),gsap.set(c,{zIndex:"-1",delay:.3,onComplete(){gsap.to(t,{startAt:{opacity:0,display:"none"},opacity:1,display:"block",delay:.3}),gsap.to(d,{startAt:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},duration:1,scale:a?3:1.5,zIndex:100,position:"fixed",top:"50%",left:"50%",rotationY:"180"})}}),[e,t].forEach((e=>{e.addEventListener("click",(function(e){gsap.to(t,{display:"none"}),gsap.to(d,{duration:1,scale:1,zIndex:1,position:"static",pointerEvents:"auto",rotationY:"180",transform:"translate(0%, 0%)",onComplete(){gsap.to(d,{rotationY:"+=180",duration:1,onComplete:function(){gsap.set(c,{rotationY:"0"})}}),gsap.set(c,{zIndex:"0",delay:.3}),gsap.set(d,{zIndex:"0",delay:.3})}})}))}))}document.querySelectorAll(".flip-container").forEach((t=>{t.addEventListener("click",i)}))}));