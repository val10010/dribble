document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".popup-card"),e=document.querySelector(".popup-card-cross"),o=document.querySelector(".content"),n=Array.from(o.children),a=window.matchMedia("(max-width: 768px)").matches,c=function(t){for(let e=t.length-1;e>0;e--){const o=Math.floor(Math.random()*(e+1));[t[e],t[o]]=[t[o],t[e]]}return t}(n);function r(o){const n=document.querySelector(".flip-container.active"),c=n.querySelector(".content_card--back");!function(o,n){const c=o.querySelector(".content_card");o.classList.remove("active"),gsap.to(t,{duration:.2,display:"none"}),gsap.set(o,{display:"block"}),gsap.to(n,{startAt:{pointerEvents:"none",scale:1.1,width:a?"3.75em":"14.1em",height:a?"auto":"20.25em"},duration:.5,position:"absolute",pointerEvents:"auto",scale:1,zIndex:0,onComplete:()=>{gsap.set(n,{opacity:0})}}),gsap.to(c,{rotationY:"+=180",duration:.7,delay:.4}),[e,t].forEach((t=>{t.removeEventListener("click",r)}))}(n,c)}function i(o){o.target;const n=o.target.parentElement,c=n.querySelector(".content_card--back"),i=n.querySelector(".content_card");n.classList.add("active"),gsap.to(i,{rotationY:"+=180",duration:1}),gsap.to(c,{duration:.1,opacity:1,delay:.4,onComplete:()=>{gsap.to(c,{startAt:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none",scale:.5,zIndex:2},duration:1,position:"fixed",scale:1,width:a?"16.75em":"30.7em",height:a?"23.65em":"43.35em",delay:.3}),gsap.set(n,{display:"contents",delay:.4}),gsap.set(t,{opacity:1,display:"block",delay:.2})}}),[e,t].forEach((t=>{t.addEventListener("click",r)}))}o.innerHTML="",c.forEach((t=>{o.appendChild(t)})),document.querySelectorAll(".flip-container").forEach((t=>{t.addEventListener("click",i)}))}));